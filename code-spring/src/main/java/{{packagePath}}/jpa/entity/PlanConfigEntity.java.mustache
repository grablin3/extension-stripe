package {{{javaPackageFull}}}.jpa.entity;

import jakarta.persistence.*;
import lombok.*;
import lombok.experimental.SuperBuilder;

/**
 * Plan configuration entity for {{{projectName}}}
 *
 * Stores plan metadata and feature flags mapped to Stripe prices
 */
@Entity
@Table(name = "plan_configs", indexes = {
    @Index(name = "idx_plan_stripe_price_id", columnList = "stripe_price_id"),
    @Index(name = "idx_plan_stripe_product_id", columnList = "stripe_product_id"),
    @Index(name = "idx_plan_name", columnList = "name")
})
@Data
@SuperBuilder
@NoArgsConstructor
@AllArgsConstructor
@EqualsAndHashCode(callSuper = true)
@ToString(callSuper = true)
public class PlanConfigEntity extends BaseEntity {

    @Column(name = "name", nullable = false, length = 100)
    private String name;

    @Column(name = "stripe_price_id", unique = true, nullable = false, length = 255)
    private String stripePriceId;

    @Column(name = "stripe_product_id", nullable = false, length = 255)
    private String stripeProductId;

    @Column(name = "price_cents", nullable = false)
    private Long priceCents;

    @Column(name = "currency", nullable = false, length = 3)
    @Builder.Default
    private String currency = "usd";

    @Column(name = "billing_interval", nullable = false, length = 20)
    private String billingInterval;

    @Column(name = "interval_count", nullable = false)
    @Builder.Default
    private Integer intervalCount = 1;

    @Column(name = "trial_period_days")
    private Integer trialPeriodDays;

    @Column(name = "features", columnDefinition = "TEXT")
    private String features;

    @Column(name = "is_active", nullable = false)
    @Builder.Default
    private Boolean isActive = true;

    @Column(name = "display_order", nullable = false)
    @Builder.Default
    private Integer displayOrder = 0;

    @Column(name = "is_highlighted", nullable = false)
    @Builder.Default
    private Boolean isHighlighted = false;

    @Column(name = "cta_text", length = 50)
    @Builder.Default
    private String ctaText = "Get Started";
}
